CREATE TABLE BookItem_images (BookItemID int(10) NOT NULL, BookItemIndex int(10) NOT NULL, Images varchar(255), PRIMARY KEY (BookItemID, BookItemIndex)) CHARACTER SET UTF8;
CREATE TABLE Account (ID int(10) NOT NULL AUTO_INCREMENT, Username varchar(255), Password varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Customer (ID int(10) NOT NULL AUTO_INCREMENT, FullNameID int(10), AddressID int(10), AccountID int(10), PhoneNumber varchar(255), Email varchar(255), Avatar varchar(255) default 'https://apsec.iafor.org/wp-content/uploads/sites/37/2017/02/IAFOR-Blank-Avatar-Image.jpg', Gender varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Address (ID int(10) NOT NULL AUTO_INCREMENT, Street varchar(255), City varchar(255), District varchar(255), Detail varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE FullName (ID int(10) NOT NULL AUTO_INCREMENT, FirstName varchar(255), MidName varchar(255), LastName varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE `Order` (ID int(10) NOT NULL AUTO_INCREMENT, CustomerID int(10), VoucherID int(10), CartID int(10), PaymentID int(10), ShipmentID int(10), Status varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Shipment (ID int(10) NOT NULL AUTO_INCREMENT, Type varchar(255), Cost float NOT NULL, Address varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Payment (ID int(10) NOT NULL AUTO_INCREMENT, CartID int(10), ShipmentID int(10), TotalAmount float NOT NULL, PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Cash (Cashier varchar(255), PaymentID int(10) NOT NULL, PRIMARY KEY (PaymentID)) CHARACTER SET UTF8;
CREATE TABLE Tranfer (Name varchar(255), BankID varchar(255), PaymentID int(10) NOT NULL, PRIMARY KEY (PaymentID)) CHARACTER SET UTF8;
CREATE TABLE Credit (Number varchar(255), Type varchar(255), ExDate date, PaymentID int(10) NOT NULL, PRIMARY KEY (PaymentID)) CHARACTER SET UTF8;
CREATE TABLE Cart (ID int(10) NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE BookItem (ID int(10) NOT NULL AUTO_INCREMENT, BookID int(10) NOT NULL, Barcode varchar(255), Prices float NOT NULL, Description varchar(2048), Header varchar(3000), Discount float NOT NULL, PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Book (ID int(10) NOT NULL AUTO_INCREMENT, CategoryID int(10) NOT NULL, PublisherID int(10) NOT NULL, AuthorID int(10) NOT NULL, ISBN varchar(255), Title varchar(255), Language varchar(255), PublicationDate date, NumberOfPage int(10) NOT NULL, PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Author (ID int(10) NOT NULL AUTO_INCREMENT, Name varchar(255), Biography varchar(255), Email varchar(255), Address varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Publisher (ID int(10) NOT NULL AUTO_INCREMENT, Name varchar(255), Address varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Category (ID int(10) NOT NULL AUTO_INCREMENT, Name varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Staff (ID int(10) NOT NULL AUTO_INCREMENT, FullNameID int(10), AddressID int(10), AccountID int(10), Salary float NOT NULL, Age int(10) NOT NULL, Gender varchar(255), ExpYear int(10) NOT NULL, PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE WarehouseManageStaff (StorageNum int(10) NOT NULL, StaffID int(10) NOT NULL, PRIMARY KEY (StaffID)) CHARACTER SET UTF8;
CREATE TABLE AdminStaff (Certificate varchar(255), StaffID int(10) NOT NULL, PRIMARY KEY (StaffID)) CHARACTER SET UTF8;
CREATE TABLE WebsiteManageStaff (SeoExp varchar(255), StaffID int(10) NOT NULL, PRIMARY KEY (StaffID)) CHARACTER SET UTF8;
CREATE TABLE Voucher (ID int(10) NOT NULL AUTO_INCREMENT, Name varchar(255), DiscountPercent float NOT NULL, Description varchar(255), PRIMARY KEY (ID)) CHARACTER SET UTF8;
CREATE TABLE Cart_BookItem (CartID int(10) NOT NULL, BookItemID int(10) NOT NULL, PRIMARY KEY (CartID, BookItemID)) CHARACTER SET UTF8;
ALTER TABLE Cash ADD CONSTRAINT FKCash453060 FOREIGN KEY (PaymentID) REFERENCES Payment (ID);
ALTER TABLE Tranfer ADD CONSTRAINT FKTranfer964443 FOREIGN KEY (PaymentID) REFERENCES Payment (ID);
ALTER TABLE Credit ADD CONSTRAINT FKCredit998953 FOREIGN KEY (PaymentID) REFERENCES Payment (ID);
ALTER TABLE WarehouseManageStaff ADD CONSTRAINT FKWarehouseM200315 FOREIGN KEY (StaffID) REFERENCES Staff (ID);
ALTER TABLE AdminStaff ADD CONSTRAINT FKAdminStaff179210 FOREIGN KEY (StaffID) REFERENCES Staff (ID);
ALTER TABLE WebsiteManageStaff ADD CONSTRAINT FKWebsiteMan556102 FOREIGN KEY (StaffID) REFERENCES Staff (ID);
ALTER TABLE Customer ADD CONSTRAINT FKCustomer95365 FOREIGN KEY (AccountID) REFERENCES Account (ID);
ALTER TABLE Customer ADD CONSTRAINT FKCustomer673544 FOREIGN KEY (AddressID) REFERENCES Address (ID);
ALTER TABLE Customer ADD CONSTRAINT FKCustomer394426 FOREIGN KEY (FullNameID) REFERENCES FullName (ID);
ALTER TABLE `Order` ADD CONSTRAINT FKOrder751924 FOREIGN KEY (ShipmentID) REFERENCES Shipment (ID);
ALTER TABLE `Order` ADD CONSTRAINT FKOrder92191 FOREIGN KEY (PaymentID) REFERENCES Payment (ID);
ALTER TABLE `Order` ADD CONSTRAINT FKOrder795597 FOREIGN KEY (CartID) REFERENCES Cart (ID);
ALTER TABLE Book ADD CONSTRAINT FKBook666593 FOREIGN KEY (AuthorID) REFERENCES Author (ID);
ALTER TABLE Book ADD CONSTRAINT FKBook221643 FOREIGN KEY (PublisherID) REFERENCES Publisher (ID);
ALTER TABLE Book ADD CONSTRAINT FKBook738236 FOREIGN KEY (CategoryID) REFERENCES Category (ID);
ALTER TABLE BookItem ADD CONSTRAINT FKBookItem474144 FOREIGN KEY (BookID) REFERENCES Book (ID);
ALTER TABLE Staff ADD CONSTRAINT FKStaff479928 FOREIGN KEY (AccountID) REFERENCES Account (ID);
ALTER TABLE Staff ADD CONSTRAINT FKStaff288981 FOREIGN KEY (AddressID) REFERENCES Address (ID);
ALTER TABLE Staff ADD CONSTRAINT FKStaff9863 FOREIGN KEY (FullNameID) REFERENCES FullName (ID);
ALTER TABLE `Order` ADD CONSTRAINT FKOrder661486 FOREIGN KEY (VoucherID) REFERENCES Voucher (ID);
ALTER TABLE Payment ADD CONSTRAINT FKPayment767140 FOREIGN KEY (ShipmentID) REFERENCES Shipment (ID);
ALTER TABLE Payment ADD CONSTRAINT FKPayment656927 FOREIGN KEY (CartID) REFERENCES Cart (ID);
ALTER TABLE `Order` ADD CONSTRAINT FKOrder556711 FOREIGN KEY (CustomerID) REFERENCES Customer (ID);
ALTER TABLE Cart_BookItem ADD CONSTRAINT FKCart_BookI61621 FOREIGN KEY (CartID) REFERENCES Cart (ID);
ALTER TABLE Cart_BookItem ADD CONSTRAINT FKCart_BookI957184 FOREIGN KEY (BookItemID) REFERENCES BookItem (ID);
